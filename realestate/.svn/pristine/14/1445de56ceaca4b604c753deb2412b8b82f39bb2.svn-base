<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <title>新增配置</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="../../../static/lib/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="../../../static/lib/form-select/formSelects-v4.css">
    <link rel="stylesheet" href="../../../static/lib/bdcui/css/mask.css"/>
    <link rel="stylesheet" href="../../../static/lib/bdcui/css/form.css"/>
    <link rel="stylesheet" href="../../../static/css/config/yml/addpz.css">
</head>

<body>
<div class="bdc-form-div bdc-not-full-bg">
    <!--全局 标题和操作按钮 开始-->
    <form class="layui-form sl-from bdc-form-table" lay-filter = "addPzForm">
        <!--全局 标题和操作按钮 结束-->
        <div class="form-margin-area">
            <div class="basic-info" id="addpz">
                <div class="title-sign">
                    <p>配置项</p>
                </div>
                <form class="layui-form" name="addPzForm" >
                    <input type="hidden" name="pzid" id="pzid" value="">
                    <input type="hidden" name="pzzt" id="pzzt" value="">
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label"><span class="required-span"><sub>*</sub></span>配置名称</label>
                            <div class="layui-input-inline bdc-not-null">
                                <input type="text" autocomplete="off" lay-verify="required" class="layui-input tsywpz" lay-filter="pzmc"
                                       name="pzmc" id="pzmc" value="">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label"><span class="required-span"><sub>*</sub></span>配置类型</label>
                            <div class="layui-input-inline bdc-not-null">
                                <select lay-filter="pzlx" name="pzlx" lay-search="" id="pzlx" class="tsywpz" lay-verify="required">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label bdc-label-newline">配置值字典项标识</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzzzdxbs" id="pzzzdxbs" value="">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">配置创建人</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzcjr" id="pzcjr" disabled="off">
                                <i class="layui-icon layui-icon-close bdc-hide"></i>
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label">配置值</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzz" id="pzz" value="">
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label">配置缺省值</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzqsz" id="pzqsz" value="">
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label bdc-label-newline">配置验证组合标识</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzyzzhbs" id="pzyzzhbs" value="">
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label">配置地方版本</label>
                            <div class="layui-input-inline">
                                <input type="text" autocomplete="off" class="layui-input tsywpz"
                                       name="pzdfbb" id="pzdfbb" value="">
                            </div>
                        </div>

                        <div class="layui-inline default-element">
                            <label class="layui-form-label">配置系统</label>
                            <div class="layui-input-inline">
                                <select xm-select="selectPzZxt" lay-verify="" name="pzzxt" id="pzzxt"
                                        xm-select-search="" xm-select-height="34px" xm-select-skin="default" xm-select-show-count="2" xm-select-search-type="dl">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label">功能模块</label>
                            <div class="layui-input-inline">
                                <select lay-filter="gnmk" name="gnmk" lay-search="" id="gnmk">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label"><span class="required-span"><sub>*</sub></span>是否需要重启</label>
                            <div class="layui-input-inline">
                                <select lay-filter="sfxycq" name="sfxycq" lay-search="" id="sfxycq" lay-verify="required">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-inline default-element">
                            <label class="layui-form-label">是否生效</label>
                            <div class="layui-input-inline">
                                <select lay-filter="sfsx" name="sfsx" lay-search="" id="sfsx">
                                    <option value="">请选择</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="layui-form-item change-textarea-margin">
                        <label class="layui-form-label"><span class="required-span"><sub>*</sub></span>配置说明</label>
                        <div class="layui-input-inline bdc-not-null">
                                <textarea class="layui-textarea tsywpz" lay-verify="required" name="pzsm" id="pzsm"></textarea>
                        </div>
                    </div>

                    <div class="layui-form-item addpztable" id="addpzTableForm"></div>
                    </form>
                    <div class="layui-inline bdc-frame-button-box">
                        <a href="javascript:;" class="layui-btn layui-btn-normal bdc-major-btn" lay-submit=""
                           lay-filter="submitBtn">保存</a>
                    </div>
            </div>

        </div>
    </form>
</div>
</body>

<!--字典项表格-->
<script type="text/html" id="addpzTableTpl">
    <div class="basic-info  bdc-hide" id="addpzTable">
        <div class="title-sign">
            <p>自定义字典项</p>
        </div>
        <table class="slym layui-table bdc-jt-table" border="1">
            <thead>
            <tr class="gray-tr">
                <td>字典项实际值</td>
                <td>字典项显示值</td>
                <td width="200px">操作</td>
            </tr>
            </thead>
            <tbody>
            {{# if(d && d.length >0 ){ }}
            {{# layui.each(d, function(i, zdx){ }}
            <tr>
                <input type="hidden"  id="zdyzdxbs" name="zdyzdxbs" value="{{zdx.zdyzdxbs || ''}}">
                <input type="hidden"  id="id" name="id" value="{{zdx.id || ''}}">
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" id="zdxsjz" name="zdxsjz" value="{{zdx.zdxsjz || ''}}">
                    </div>
                </td>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" id="zdxxsz" name="zdxxsz" value="{{zdx.zdxxsz || ''}}">
                    </div>
                </td>
                <td>
                    <button type="button" class="layui-btn layui-btn-xs bdc-major-btn zdx-add" id="zdx-add" name="zdx-add">增加</button>
                    <button type="button" class="layui-btn layui-btn-danger layui-btn-xs bdc-delete-btn" id="zdx-delete" name="zdx-delete">删除</button>
                </td>
            </tr>
            {{# }); }}
            {{# } else { }}
            <tr>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" id="zdxsjz" name="zdxsjz" value="">
                    </div>
                </td>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" id="zdxxsz" name="zdxxsz" value="">
                    </div>
                </td>
                <td>
                    <button type="button" class="layui-btn layui-btn-xs bdc-major-btn zdx-add" id="zdx-add" name="zdx-add">增加</button>
                </td>
            </tr>
            {{# }  }}
            </tbody>
        </table>
    </div>
</script>

<!--字典项只读表格-->
<script type="text/html" id="zdxpzTableTpl">
    <div class="basic-info bdc-hide" id="addpzTable">
        <div class="title-sign">
            <p>自定义字典项</p>
        </div>
        <table class="slym layui-table bdc-jt-table" border="1">
            <thead>
            <tr class="gray-tr">
                <td>字典项实际值</td>
                <td>字典项显示值</td>
            </tr>
            </thead>
            <tbody>
            {{# if(d && d.length >0 ){ }}
            {{# layui.each(d, function(i, zdx){ }}
            <tr>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" class="layui-input" value="{{zdx.zdxsjz || ''}}" title="{{zdx.zdxsjz || ''}}" disabled="off">
                    </div>
                </td>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" class="layui-input" value="{{zdx.zdxxsz || ''}}" title="{{zdx.zdxxsz || ''}}" disabled="off">
                    </div>
                </td>
            </tr>
            {{# }); }}
            {{# } else { }
            <tr>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" value="">
                    </div>
                </td>
                <td>
                    <div class="bdc-td-box">
                        <input type="text" lay-verify="" class="layui-input" value="">
                    </div>
                </td>
            </tr>
            {{# }  }}
            </tbody>
        </table>
    </div>
</script>

<!--字典项表格新增行-->
<script type="text/html" id="addpzTrTpl">
    <tr>
        <td>
            <div class="bdc-td-box">
                <input type="text" lay-verify="" class="layui-input"
                       id="zdxsjz" name="zdxsjz" value="">
            </div>
        </td>
        <td>
            <div class="bdc-td-box">
                <input type="text" lay-verify="" class="layui-input"
                       id="zdxxsz" name="zdxxsz" value="">
            </div>
        </td>
        <td>
            <button type="button" class="layui-btn layui-btn-xs bdc-major-btn zdx-add" id="zdx-add" name="zdx-add">增加</button>
            <button type="button" class="layui-btn layui-btn-danger layui-btn-xs bdc-delete-btn"
                    id="zdx-delete" name="zdx-delete">删除
            </button>
        </td>
    </tr>
</script>

<!--字典项表格新增行-->
<script type="text/html" id="addXsdPzzTpl">
    <div class="layui-form-item change-textarea-margin element-xsd">
        <label class="layui-form-label change-label-width">xsd配置值</label>
        <div class="layui-input-inline">
            <div class="bdc-sl-box">
                <textarea class="layui-textarea bdc-large-textarea bdc-pr148 bdc-copy-textarea tsywpz" name="pzz" style="min-height: 300px;"></textarea>
                <p class="bdc-textarea-btn">
                    <a href="javascript:;" class="layui-btn layui-btn-sm bdc-secondary-btn xsd-sl-btn" onclick="getXsdExample();">获取示例</a>
                    <a href="javascript:;" class="layui-btn layui-btn-sm bdc-secondary-btn xsd-sl-btn" onclick="xsdFormat();">格式化</a>
                </p>
            </div>
        </div>
    </div>
</script>

<script src="../../../static/lib/jquery/jquery.min.js"></script>
<script src="../../../static/lib/layui/layui.js"></script>
<!--添加水印-->
<script src="../../../static/lib/bdcui/js/common.js"></script>
<script src="../../../static/js/config/common.js"></script>
<script src="../../../static/js/config/yml/gsh.js"></script>
<script src="../../../static/js/config/yml/addOrEditPz.js"></script>
</html>